<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="referrer" content="no-referrer" />
    <title>PGA Ad</title>
    <link href="./common.css?v=1" rel="stylesheet" />
    <script lang="javascript">
      const DEFAULT_AD_DURATION = 1000 * 20;

      function scheduleNext(slot, index, from) {
        setTimeout(() => {
          if (from === 'persona') {
            console.log("Lets go to Cointraffic");
            location.href = `./cointraffic.html?slot=${slot}&index=${index+1}`;
          } else {
            console.log("Lets go to persona");
            location.href = `./persona.html?slot=${slot}&index=${index+1}`;
          }
        }, DEFAULT_AD_DURATION);
      }

      document.addEventListener("DOMContentLoaded", () => {
        const searchParams = new URLSearchParams(window.location.search);
        const slot = (searchParams.get("slot") || "home").toLowerCase().trim();
        const index = Number(searchParams.get("index")) || 1;
        const from = Number(searchParams.get("from"));

        scheduleNext(slot, index, from);
      });
    </script>
  </head>
  <body>
    <a href="https://x.com/GuildPal" target="_blank">
      <img
        src="./images/pga_ad_240711_3.gif"
        width="320"
        height="100"
        alt="PGA"
      />
    </a>
  </body>
</html>
